## IMPLEMENTATION PLAN ‚Äì MediaLAN System

> **Role:** You are a senior full-stack developer.
> **Task:** Design and implement a complete local-network web system called **MediaLAN**.

### üìå SYSTEM OVERVIEW

MediaLAN is a **local (LAN-based) media browsing and download system**.
It runs on a single computer acting as a **local server**, and users access it through a browser using a local IP address and a custom address.

Users can:

* Browse movies and series by category
* View movie details
* Download movies or episodes **only after entering a valid PIN**

PINs are:

* Generated by the admin
* Sold **physically in a shop**
* Printed and given to customers
* Each PIN allows **exactly 3 downloads**
* After 3 successful downloads, the PIN **expires automatically**

No online payments are involved.

---

### üß± TECH STACK REQUIREMENTS

* Backend: PHP (Laravel ‚Äì choose one and stay consistent)
* Database: MySQL
* Frontend: Tailwind CSS
* Server: XAMPP
* Network: Local Area Network (LAN only)

---

### üóÇÔ∏è DATABASE REQUIREMENTS

Design a MySQL database with tables for:

1. **categories** (id, name, description)
2. **media** (id, title, type [movie/series], category_id, filename, size, description)
3. **pins** (id, pin_code, max_downloads=3, used_downloads, status, created_at, expires_at)
4. **downloads_log** (id, pin_id, media_id, ip_address, downloaded_at)
5. **admin_users** (id, username, password)

---

### üîê PIN LOGIC (VERY IMPORTANT)

* PIN must be **random, unique, and hard to guess**
* PIN starts with:

  * `used_downloads = 0`
  * `status = active`
* On each successful download:

  * Increment `used_downloads`
* When `used_downloads == 3`:

  * Automatically set `status = expired`
  * Block further downloads

---

### üñ•Ô∏è ADMIN FEATURES

* Secure admin login
* Add/edit/delete categories
* Upload movies or series files
* Generate single or bulk PINs
* Print PINs in a simple printable format
* View PIN usage and download history

---

### üë§ USER FEATURES

* Access site via local IP (e.g. 192.168.1.10, medialan.test)
* Browse categories
* View movies/series
* Enter PIN before downloading
* See remaining downloads for the PIN
* Download files at LAN speed

---

### üì• DOWNLOAD SECURITY

* Direct file URLs must be hidden
* All downloads must pass through server-side PIN validation
* Prevent reusing expired PINs
* Prevent bypassing PIN checks

---

### üß† SYSTEM FLOW

1. Admin installs MediaLAN on local server
2. Admin uploads media files
3. Admin generates and prints PINs
4. Customer buys PIN physically
5. Customer connects to LAN
6. Customer opens MediaLAN in browser
7. Customer enters PIN
8. System validates PIN
9. User downloads media
10. PIN usage is updated
11. After 3 downloads ‚Üí PIN expires

---

### üìÑ OUTPUT EXPECTATION

Generate:

* Database schema (SQL)
* Folder structure
* Backend logic
* PIN generation logic
* Download validation logic
* Admin and user pages
* Security best practices

---

### ‚ö†Ô∏è IMPORTANT NOTES

* This system must work **offline**
* No external APIs
* No internet dependency
* Optimized for local network performance
